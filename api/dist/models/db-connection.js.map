{"version":3,"sources":["models/db-connection.js"],"names":["Promise","dbUri","process","env","DB_URI","connect","connection","on","console","log","err","close","exit","users","require","items"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEA,mBAASA,OAAT,GAAmB,YAAEA,OAArB;;AAEA,IAAMC,QAAQC,QAAQC,GAAR,CAAYC,MAAZ,IAAsB,gCAApC;;AAEA,mBAASC,OAAT,CAAiBJ,KAAjB;;AAEA,mBAASK,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC;AAAA,SAClCC,QAAQC,GAAR,CAAY,sCAAZ,EAAoDR,KAApD,CADkC;AAAA,CAApC;;AAGA,mBAASK,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC;AAAA,SAC9BC,QAAQC,GAAR,CAAY,qCAAZ,EAAmDC,GAAnD,CAD8B;AAAA,CAAhC;;AAGA,mBAASJ,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC;AAAA,SACrCC,QAAQC,GAAR,CAAY,0CAAZ,CADqC;AAAA,CAAvC;;AAGA,mBAASH,UAAT,CAAoBC,EAApB,CAAuB,MAAvB,EAA+B;AAAA,SAC7BC,QAAQC,GAAR,CAAY,qCAAZ,CAD6B;AAAA,CAA/B;;AAGAP,QAAQK,EAAR,CAAW,QAAX,EAAqB;AAAA,SACnB,mBAASD,UAAT,CAAoBK,KAApB,CAA0B,YAAM;AAC9BH,YAAQC,GAAR,CAAY,kEAAZ;AACAP,YAAQU,IAAR,CAAa,CAAb;AACD,GAHD,CADmB;AAAA,CAArB;;AAMA,IAAMC,QAAQC,QAAQ,kBAAR,CAAd;AACA,IAAMC,QAAQD,QAAQ,kBAAR,CAAd;;QAGED,K,GAAAA,K;QACAE,K,GAAAA,K","file":"db-connection.js","sourcesContent":["import mongoose from 'mongoose';\nimport Q from 'q';\n\nmongoose.Promise = Q.Promise;\n\nconst dbUri = process.env.DB_URI || 'mongodb://localhost:27017/haoc';\n\nmongoose.connect(dbUri);\n\nmongoose.connection.on('connected', () =>\n  console.log('Mongoose default connection open to ', dbUri));\n\nmongoose.connection.on('error', err =>\n  console.log('Mongoose default connection error: ', err));\n\nmongoose.connection.on('disconnected', () =>\n  console.log('Mongoose default connection disconnected'));\n\nmongoose.connection.on('open', () =>\n  console.log('Mongoose default connection is open'));\n\nprocess.on('SIGINT', () =>\n  mongoose.connection.close(() => {\n    console.log('Mongoose default connection disconnected through app termination');\n    process.exit(0);\n  }));\n\nconst users = require('./users.model.js');\nconst items = require('./items.model.js');\n\nexport {\n  users,\n  items };\n"]}