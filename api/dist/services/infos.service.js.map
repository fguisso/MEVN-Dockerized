{"version":3,"sources":["services/infos.service.js"],"names":["service","constructInfo","deferred","defer","infos","promises","count","recents","all","then","result","itemsCount","userCount","recentes","resolve","catch","reject","err","promise"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,UAAU,EAAhB;;AAEA,IAAMC,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1B,MAAMC,WAAW,YAAEC,KAAF,EAAjB;AACA,MAAMC,QAAQ,EAAd;AACA,MAAMC,WAAW,CACf,gBAAYC,KAAZ,EADe,EAEf,gBAAYA,KAAZ,EAFe,EAGf,gBAAYC,OAAZ,EAHe,CAAjB;;AAKA,cAAEC,GAAF,CAAMH,QAAN,EACGI,IADH,CACQ,UAACC,MAAD,EAAY;AAChBN,UAAMO,UAAN,GAAmBD,OAAO,CAAP,CAAnB;AACAN,UAAMQ,SAAN,GAAkBF,OAAO,CAAP,CAAlB;AACAN,UAAMS,QAAN,GAAiBH,OAAO,CAAP,CAAjB;AACAR,aAASY,OAAT,CAAiBV,KAAjB;AACD,GANH,EAOGW,KAPH,CAOS;AAAA,WAAOb,SAASc,MAAT,CAAgBC,GAAhB,CAAP;AAAA,GAPT;;AASA,SAAOf,SAASgB,OAAhB;AACD,CAlBD;;AAoBAlB,QAAQI,KAAR,GAAgBH,aAAhB;;kBAEeD,O","file":"infos.service.js","sourcesContent":["import Q from 'q';\nimport itemService from '../services/items.service';\nimport userService from '../services/users.service';\n\nconst service = {};\n\nconst constructInfo = () => {\n  const deferred = Q.defer();\n  const infos = {};\n  const promises = [\n    itemService.count(),\n    userService.count(),\n    itemService.recents()];\n\n  Q.all(promises)\n    .then((result) => {\n      infos.itemsCount = result[0];\n      infos.userCount = result[1];\n      infos.recentes = result[2];\n      deferred.resolve(infos);\n    })\n    .catch(err => deferred.reject(err));\n\n  return deferred.promise;\n};\n\nservice.infos = constructInfo;\n\nexport default service;\n"]}