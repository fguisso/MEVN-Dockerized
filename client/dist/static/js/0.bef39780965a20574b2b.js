webpackJsonp([0,6],{124:function(e,t,s){var i=s(11)(s(136),s(146),null,null);e.exports=i.exports},125:function(e,t,s){var i=s(11)(s(137),s(140),null,null);e.exports=i.exports},126:function(e,t,s){var i=s(11)(s(138),s(143),null,null);e.exports=i.exports},127:function(e,t,s){var i=s(11)(s(139),s(141),null,null);e.exports=i.exports},136:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"userEditForm",data:function(){return{name:"",accessLevel:"",email:"",password:""}},methods:{edit:function(){var e=this,t={};this.name&&(t.name=this.name),this.email&&(t.email=this.email),this.password&&(t.password=this.password),"Admin"===this.accessLevel&&(t.admin=!0),"User"===this.accessLevel&&(t.admin=!1),t!=={}&&this.http.put("/users/"+this.$route.params._id,t).then(function(){return e.$router.push({name:"users.list"})}).catch(function(e){return console.log(e)})},exit:function(){this.$router.push({name:"users.list"})}}}},137:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"newItemForm",data:function(){return{name:"",email:"",password:""}},methods:{submit:function(){var e=this,t=this.name,s=this.email,i=this.password;this.http.post("/users/register",{name:t,email:s,password:i}).then(function(){return e.$router.push({name:"users.list"})}).catch(function(e){return console.log(e)})},exit:function(){this.$router.push({name:"users.list"})}}}},138:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(44),a=s.n(i),n=s(22);t.default={name:"users-view",data:function(){return{userList:[],allSelected:!1}},computed:a()({},s.i(n.a)(["getUser"]),{checkedIds:function(){return this.userList.filter(function(e){return e.checked}).map(function(e){return e._id})}}),beforeMount:function(){var e=this;this.http.get("/users/list").then(function(t){e.userList=t.data.map(function(e){return e.checked=!1,e.admin===!0?e.access="Admin":e.access="User",e})})},watch:{checkedIds:{handler:function(){this.allSelected=this.userList.filter(function(e){return e.checked}).length===this.userList.length},deep:!0}},methods:{changeAll:function(){var e=this;this.userList.forEach(function(t,s){t.checked=e.allSelected,e.userList[s]=t})},remove:function(){var e=this;this.checkedIds.forEach(function(t){e.http.delete("/users/"+t).then(function(){e.http.get("/users/list").then(function(t){e.userList=t.data.map(function(e){return e.checked=!1,e.admin===!0?e.access="Admin":e.access="User",e})})}).catch(function(e){return console.log(e)})})},edit:function(){this.$router.push({name:"users.edit",params:{_id:this.checkedIds[0]}})},navigate:function(e){this.$router.push({name:e})}}}},139:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"users-view"}},140:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column is-8"},[s("div",{staticClass:"content"},[s("h1",[e._v("Novo usuário")]),e._v(" "),s("hr"),e._v(" "),s("h3",[e._v("Nome do usuário::")]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input is-medium",attrs:{type:"text",name:"username",placeholder:"Usuário"},domProps:{value:e._s(e.name)},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),e._v(" "),s("h3",[e._v("Email:")]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input is-medium",attrs:{type:"text",name:"email",placeholder:"email@email.com"},domProps:{value:e._s(e.email)},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),s("h3",[e._v("Password:")]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input is-medium",attrs:{type:"password",name:"password",placeholder:"*******"},domProps:{value:e._s(e.password)},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),s("hr"),e._v(" "),s("button",{staticClass:"button is-primary",class:{"is-disabled":!(""!==this.name&&""!==this.email&&""!==this.password)},attrs:{type:"button"},on:{click:e.submit}},[e._v("Registrar")]),e._v(" "),s("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:e.exit}},[e._v("Sair")])])])},staticRenderFns:[]}},141:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-view")},staticRenderFns:[]}},143:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column is-8"},[s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("p",{staticClass:"control"},[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.allSelected,expression:"allSelected"}],attrs:{type:"checkbox",name:"checkbox"},domProps:{checked:Array.isArray(e.allSelected)?e._i(e.allSelected,null)>-1:e.allSelected},on:{click:[function(t){var s=e.allSelected,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=null,l=e._i(s,n);a?l<0&&(e.allSelected=s.concat(n)):l>-1&&(e.allSelected=s.slice(0,l).concat(s.slice(l+1)))}else e.allSelected=a},e.changeAll]}}),e._v("\n            Selecionar todos\n          ")])])])]),e._v(" "),e.getUser.isAdmin?s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-danger",class:{"is-disabled":this.checkedIds.length<=0},attrs:{type:"button"},on:{click:e.remove}},[e._v("Remover")])]),e._v(" "),s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-info",class:{"is-disabled":1!==this.checkedIds.length},attrs:{type:"button"},on:{click:e.edit}},[e._v("Editar")])]),e._v(" "),s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-primary",on:{click:function(t){e.navigate("newuser.form")}}},[e._v("Novo")])])]):e._e()]),e._v(" "),s("hr"),e._v(" "),s("table",{staticClass:"table"},[e._m(0),e._v(" "),s("tbody",e._l(e.userList,function(t){return s("tr",[s("th",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"user.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(s){var i=t.checked,a=s.target,n=!!a.checked;if(Array.isArray(i)){var l=null,c=e._i(i,l);n?c<0&&(t.checked=i.concat(l)):c>-1&&(t.checked=i.slice(0,c).concat(i.slice(c+1)))}else t.checked=n}}})]),e._v(" "),s("th",[e._v(e._s(t.name))]),e._v(" "),s("th",[e._v(e._s(t.access))]),e._v(" "),s("th",[e._v(e._s(t.created_at))])])}))]),e._v(" "),e.getUser.isAdmin?s("nav",{staticClass:"level"},[e._m(1),e._v(" "),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-danger",class:{"is-disabled":this.checkedIds.length<=0},attrs:{type:"button"},on:{click:e.remove}},[e._v("Remover")])]),e._v(" "),s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-info",class:{"is-disabled":1!==this.checkedIds.length},attrs:{type:"button"},on:{click:e.edit}},[e._v("Editar")])]),e._v(" "),s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-primary",on:{click:function(t){e.navigate("newuser.form")}}},[e._v("Novo")])])])]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th"),e._v(" "),s("th",[e._v("Usuário")]),e._v(" "),s("th",[e._v("Nivel de acesso")]),e._v(" "),s("th",[e._v("Criado em")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"})])}]}},146:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column is-8"},[s("div",{staticClass:"content"},[s("h1",[e._v("Editar usuário")]),e._v(" "),s("hr"),e._v(" "),s("h3",[e._v("Nome do usuário:")]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input is-medium",attrs:{type:"text",name:"itemName",placeholder:"Arroz"},domProps:{value:e._s(e.name)},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),e._v(" "),s("h3",[e._v("Nivel de acesso:")]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.accessLevel,expression:"accessLevel"}],staticClass:"input is-medium",attrs:{type:"text",name:"accessLevel",placeholder:"Admin"},domProps:{value:e._s(e.accessLevel)},on:{input:function(t){t.target.composing||(e.accessLevel=t.target.value)}}})])]),e._v(" "),s("h3",[e._v("Email:")]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input is-medium",attrs:{type:"text",name:"email",placeholder:"email@email.com"},domProps:{value:e._s(e.email)},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),s("h3",[e._v("Password:")]),e._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input is-medium",attrs:{type:"password",name:"password",placeholder:"Entregue"},domProps:{value:e._s(e.password)},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),s("hr"),e._v(" "),s("button",{staticClass:"button is-primary",class:{"is-disabled":""===this.name&&""===this.accessLevel&&""===this.email&&""===this.password},attrs:{type:"button"},on:{click:e.edit}},[e._v("Editar")]),e._v(" "),s("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:e.exit}},[e._v("Sair")])])])},staticRenderFns:[]}}});
//# sourceMappingURL=0.bef39780965a20574b2b.js.map